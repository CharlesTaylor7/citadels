<label
  class="
    select-none
    cursor-pointer
    p-1 box-content
    rounded-2xl
    has-[:checked]:p-0
    has-[:checked]:border
    has-[:checked]:border-4
    has-[:checked]:border-success
    {% if draggable %}
    draggable
    {% endif %}
  "
  data-x="{{ district.pos.x }}px"
  data-y="{{ district.pos.y }}px"
  style="
    z-index: {{ district.pos.z }};
    transform: translate({{ district.pos.x }}px, {{ district.pos.y }}px);
  "
  _="on click
    log event.target
  "
>
  <div 
    data-tip="{{ district.description|def }}"
    class="
      w-full
      rounded-t-xl relative h-10 bg-neutral
      {% if district.description.is_some() %}
      tooltip
      tooltip-bottom
      tooltip-secondary
      before:w-full
      {{ district_tooltip_class }}
      {% endif %}
    "
  >
    <div
      class="
        absolute top-2
        leaded
        w-full text-center 
        font-serif
        text-base text-neutral-content
        {% if district.value == "SchoolOfMagic" %}
        ml-2
        {% else if district.value == "ImperialTreasury" %}
        ml-4
        {% else if district.value == "HauntedQuarter" %}
        ml-3
        {% endif %}
      "
    >
      {{ district.name }} 
    </div>
    <code
      class="
        absolute top-2 left-2
        h-6 w-6 rounded-full
        leaded 
        flex flex-row justify-center items-center 
        text-secondary-content 
        {{ district.suit|suit_bg_color }}
      "
    >
      {% if district.value != "SecretVault" %}
        {{ district.cost }} 
      {% endif %}
    </code>
    {% if district.beautified %}
      <div 
          data-tip="Beautified"
          class="
            absolute right-2 top-1 
            tooltip tooltip-secondary 
            text-2xl 
          "
      > 
          âœ¨
      </div>
    {% endif %}
  </div>
  <input
    type="{{ input_type }}"
    class="peer hidden"
    name="district"
    value="{{ district.value }}"
    {% if !enabled %}
    disabled
    {% endif %}
  />
  {% set asset = district.asset %}
  <svg 
    class="rounded-b-xl"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    height="{{ asset.height }}"
    width="{{ asset.width }}"
    style="filter: brightness({{ asset.brightness }})"
  >
    <image id="img" x="{{asset.offset_x}}" y="{{asset.offset_y}}"
          height="{{ asset.scale_percentage }}%"
          xlink:href="{{ asset.path }}"
          preserveAspectRatio="xMinYMin slice"
    />
  </svg>
</label>
